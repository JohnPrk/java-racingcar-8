# 🏎️ 자동차 경주 게임 요구사항

<br>

## 🎯 기능 요구사항

간단한 자동차 경주 게임을 구현합니다. n대의 자동차가 주어진 횟수 동안 전진 또는 정지하며, 최종 우승자를 결정합니다.

### 기본 규칙

- 각 자동차는 이름을 가지며, 이름은 쉼표(,)로 구분되고 5자 이하만 가능합니다.
- 사용자는 이동 횟수를 입력할 수 있습니다.
- 자동차는 0~9 사이의 무작위 값이 4 이상일 때 전진합니다.
- 우승자는 한 명 이상일 수 있으며, 쉼표(,)로 구분하여 출력합니다.

### 기술적 제약사항

- **Indent depth**: 2 이하
- **3항 연산자**: 사용하지 않음
- **테스트 프레임워크**: JUnit 5, AssertJ
- **랜덤 유틸**: missionutils.Randoms 사용
- **함수 분리**: 한 가지 일만 하도록 최대한 작게 구현

<br>
<br>

## ✅ 기능 목록 및 구현 계획

- [x]  1단계: 도메인 모델 구현
- Car 클래스 (이름, 위치, 이동 메서드)
- Cars 일급 컬렉션
- 기본 유효성 검증

- [x]  2단계: 이동 로직 구현
- MoveStrategy 인터페이스
- RandomMoveStrategy (Randoms 활용)
- 이동 조건 처리 (0-9 랜덤, 4 이상 이동)

- [x]  3단계: 게임 진행 로직
- Race 클래스
- 라운드별 이동 처리
- 실시간 위치 출력

- [x]  입출력 처리
- 사용자 입력 받기
- 결과 출력 형식
- 예외 메시지 출력

- [x]  통합 및 리팩토링
- 메인 애플리케이션
- indent depth 2 이하 유지
- 3항 연산자 사용하지 않음
- 메서드 분리로 단일 책임 원칙 적용

<br>
<br>

## ⚠️ 예외사항

**사용자의 입력이 잘못된 경우 `IllegalArgumentException`을 발생시킵니다.**

| 조건                    | 예외 메시지 |
|-----------------------| --- |
| 자동차 이름이 1-5자가 아닐 경우   | `"자동차 이름은 1~5자 사이여야 합니다"` |
| 자동차의 이름이 없는 경우        | `"자동차 이름을 입력해주세요"` |
| 자동차 이름 중복될 경우         | `"자동차 이름은 중복될 수 없습니다: #{name}"` |
| 라운드가 1보다 작을 경우        | `"라운드 수는 1 이상이어야 합니다"` |
| 라운드에 숫자가 아닌 값이 들어갈 경우 | `"숫자를 입력해주세요"` |
| 라운드를 넣지 않을 경우         | `"시도할 횟수를 입력해주세요"` |

<br>
<br>

## 💡 설계 고려사항

구현을 진행하기 앞서서 수행했던 설계 과정을 [**자동차 경주 게임 설계시 고려했던 부분**](https://github.com/JohnPrk/java-racingcar-8/issues/1)에 정리했습니다.

- **일급 컬렉션**: 일급 컬렉션을 사용해서 차 리스트 관련 순회 작업 등 로직 캡슐화
- **인터페이스 추상화 및 전략 패턴**: 인터페이스로 추상화하여 랜덤하게 무작위를 뽑은 값을 바탕으로 이동시키는 상속 구현체와 테스트르 위해 가짜 상속 구현체로 분리
- **테스트 더블**: 랜덤 값을 테스트하기 위해 테스트 더블(Fake 방식) 사용 
- **예외 처리**: 오류 메시지를 Enum 클래스로 분리
- **입, 출력 및 유효성 검사 분리**: 입력과 출력 작업 및 유효성 검사 로직을 분리

<br>
